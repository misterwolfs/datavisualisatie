var keyCodeController={all_keys:[{key:27,value:"esc"},{key:112,value:"f1"},{key:113,value:"f2"},{key:114,value:"f3"},{key:115,value:"f4"},{key:116,value:"f5"},{key:117,value:"f6"},{key:118,value:"f7"},{key:119,value:"f8"},{key:120,value:"f9"},{key:121,value:"f10"},{key:122,value:"f11"},{key:123,value:"f12"},{key:192,value:"#"},{key:49,value:"1"},{key:50,value:"2"},{key:53,value:"5"},{key:54,value:"6"},{key:55,value:"7"},{key:56,value:"8"},{key:57,value:"9"},{key:48,value:"0"},{key:8,value:"del"},{key:9,value:"tab"},{key:65,value:"A"},{key:66,value:"B"},{key:67,value:"C"},{key:68,value:"D"},{key:69,value:"E"},{key:70,value:"F"},{key:71,value:"G"},{key:72,value:"H"},{key:73,value:"I"},{key:74,value:"J"},{key:75,value:"K"},{key:76,value:"L"},{key:77,value:"M"},{key:78,value:"N"},{key:79,value:"O"},{key:80,value:"P"},{key:81,value:"Q"},{key:82,value:"R"},{key:83,value:"S"},{key:84,value:"T"},{key:85,value:"U"},{key:86,value:"V"},{key:87,value:"W"},{key:88,value:"X"},{key:89,value:"Y"},{key:90,value:"Z"},{key:219,value:"¨"},{key:221,value:"*"},{key:13,value:"enter"},{key:20,value:"caps"},{key:220,value:"£"},{key:16,value:"shift"},{key:187,value:"+"},{key:16,value:"shift"},{key:17,value:"ctrl"},{key:18,value:"alt"},{key:91,value:"cmd"},{key:32,value:"space"},{key:93,value:"cmd"},{key:18,value:"alt"},{key:37,value:"left"},{key:40,value:"down"},{key:39,value:"right"},{key:38,value:"up"}]},keyboardController={keys:"",key:"",i:0,count:0,move_keys:[37,38,39,40],pressedKey:"",warning:!1,getData:function(){console.log("getsomedata",document.URL),$.get("resources/json/data.json",function(a){console.log("json",a),keyboardController.keys=a.keyboard},"json").success(function(){console.log("test success")})},initialize:function(){console.log=function(){},keyboardController.disableScroll();var a=setInterval(function(){$(".load .pressed"+keyboardController.i).fadeIn(),keyboardController.i>7?(keyboardController.i=1,keyboardController.count++,$(".load .key").each(function(){$(this).css("display","none")})):keyboardController.i++,1===keyboardController.count&&(window.clearInterval(a),keyboardController.loaded())},300)},loaded:function(){console.log("loaded"),$("html,body").animate({scrollTop:$(".keyboard").offset().top},500,function(){console.log("scrolled"),$(".loading").delay(5e3).css("display","none"),$(".keyboard").css({position:"relative",top:"150px"}),$(".keyboard h2").css("display","block").animate({top:"-60"},400,function(){$(".row").fadeIn(500)})}),$("body").delegate(".warning p","click",function(){keyboardController.closeWarning()}),keyboardController.getData(),$(".key").on("click",function(){console.log("this",$(this)),$(this).hasClass("upper")?(console.log("upper"),keyboardController.key=$(this).find("p span").not(".down").text()):(console.log("no upper"),keyboardController.key=$(this).text()),console.log("result",keyboardController.key),keyboardController.clicked()}),$(".close").on("click",function(){keyboardController.closeOverlay()}),$("body").keydown(function(a){console.log("event",a),keyboardController.warning&&keyboardController.closeWarning();var b=!1;$.each(keyCodeController.all_keys,function(c){a.keyCode==keyCodeController.all_keys[c].key&&(keyboardController.pressedKey==a.keyCode,keyboardController.key=keyCodeController.all_keys[c].value,keyboardController.clicked(),b=!0)}),b||keyboardController.showWarning()})},clicked:function(){keyboardController.openOverlay()},showWarning:function(){console.log("show warning",$(".warning")),$(".warning").animate({top:"50%"},300),keyboardController.warning=!0},closeWarning:function(){$(".warning").animate({top:"150%"},300,function(){$(this).css({top:"-50%"})}),keyboardController.warning=!1},openOverlay:function(){$(".overlay").animate({left:"0"},300),keyboardController.addKey(),keyboardController.addData()},closeOverlay:function(){$(".overlay").animate({left:"-100%"},300,function(){$(".day").css("width","300px"),$(".day").each(function(){$(this).find(".days").hide()})})},addKey:function(){$(".key-value").text(keyboardController.key)},addData:function(){$(".day").each(function(){$(this).find(".count").text("");var a=$(this).attr("id"),b=keyboardController.keys[keyboardController.key][0];console.log("day",b,a),$(this).stop(),$(".total h2").text(b.Total);var c=b.Monday;switch(b.Tuesday>c&&(c=b.Tuesday),b.Wednesday>c&&(c=b.Wednesday),b.Thursday>c&&(c=b.Thursday),b.Friday>c&&(c=b.Friday),b.Saturday>c&&(c=b.Saturday),b.Sunday>c&&(c=b.Sunday),a){case"Monday":$(this).find(".count").text(b.Monday),$(this).animate({width:b.Monday/c*100+"%"},1500);break;case"Tuesday":$(this).find(".count").text(b.Tuesday),$(this).animate({width:b.Tuesday/c*100+"%"},1500);break;case"Wednesday":$(this).find(".count").text(b.Wednesday),$(this).animate({width:b.Wednesday/c*100+"%"},1500);break;case"Thursday":$(this).find(".count").text(b.Thursday),$(this).animate({width:b.Thursday/c*100+"%"},1500);break;case"Friday":$(this).find(".count").text(b.Friday),$(this).animate({width:b.Friday/c*100+"%"},1500);break;case"Saturday":$(this).find(".count").text(b.Saturday),$(this).animate({width:b.Saturday/c*100+"%"},1500);break;case"Sunday":$(this).find(".count").text(b.Sunday),$(this).animate({width:b.Sunday/c*100+"%"},1500)}})},disableScroll:function(){keyboardController.preventDefault(),keyboardController.keydown(),keyboardController.wheel(),keyboardController.disable_scroll()},preventDefault:function(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1},keydown:function(a){for(var b=keyboardController.keys.length;b--;)if(a.keyCode===keys[b])return keyboardController.preventDefault(a),void 0},wheel:function(a){keyboardController.preventDefault(a)},disable_scroll:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",keyboardController.wheel,!1),window.onmousewheel=document.onmousewheel=keyboardController.wheel,document.onkeydown=keyboardController.keydown}};